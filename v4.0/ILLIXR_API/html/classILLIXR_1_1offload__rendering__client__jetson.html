<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ILLIXR: Illinois Extended Reality Testbed: ILLIXR::offload_rendering_client_jetson Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ILLIXR: Illinois Extended Reality Testbed
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceILLIXR.html">ILLIXR</a></li><li class="navelem"><a class="el" href="classILLIXR_1_1offload__rendering__client__jetson.html">offload_rendering_client_jetson</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classILLIXR_1_1offload__rendering__client__jetson-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ILLIXR::offload_rendering_client_jetson Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Main class implementing the offload rendering client functionality.  
 <a href="classILLIXR_1_1offload__rendering__client__jetson.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="offload__rendering__client__jetson_8hpp_source.html">offload_rendering_client_jetson.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ILLIXR::offload_rendering_client_jetson:</div>
<div class="dyncontent">
<div class="center"><img src="classILLIXR_1_1offload__rendering__client__jetson__inherit__graph.png" border="0" usemap="#aILLIXR_1_1offload__rendering__client__jetson_inherit__map" alt="Inheritance graph"/></div>
<map name="aILLIXR_1_1offload__rendering__client__jetson_inherit__map" id="aILLIXR_1_1offload__rendering__client__jetson_inherit__map">
<area shape="rect" title="Main class implementing the offload rendering client functionality." alt="" coords="5,152,191,192"/>
<area shape="rect" href="classILLIXR_1_1threadloop.html" title="A reusable threadloop for plugins." alt="" coords="28,79,168,104"/>
<area shape="poly" title=" " alt="" coords="101,118,101,152,95,152,95,118"/>
<area shape="rect" href="classILLIXR_1_1plugin.html" title="A dynamically&#45;loadable plugin for Spindle." alt="" coords="43,5,153,31"/>
<area shape="poly" title=" " alt="" coords="101,44,101,79,95,79,95,44"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aede46579056cf98e352017eeaa618aca" id="r_aede46579056cf98e352017eeaa618aca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILLIXR_1_1offload__rendering__client__jetson.html#aede46579056cf98e352017eeaa618aca">offload_rendering_client_jetson</a> (const std::string &amp;name, <a class="el" href="classILLIXR_1_1phonebook.html">phonebook</a> *pb)</td></tr>
<tr class="memdesc:aede46579056cf98e352017eeaa618aca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor initializing the client components.  <br /></td></tr>
<tr class="separator:aede46579056cf98e352017eeaa618aca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a43af63143c0dc5ceae47d79016bd0" id="r_a77a43af63143c0dc5ceae47d79016bd0"><td class="memItemLeft" align="right" valign="top"><a id="a77a43af63143c0dc5ceae47d79016bd0" name="a77a43af63143c0dc5ceae47d79016bd0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>mmapi_init_decoders</b> () const</td></tr>
<tr class="memdesc:a77a43af63143c0dc5ceae47d79016bd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the video decoders Sets up hardware-accelerated decoders for color and depth (if enabled) streams. <br /></td></tr>
<tr class="separator:a77a43af63143c0dc5ceae47d79016bd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeccc0ee8b97f2a1ab7e2d211f4563b9" id="r_adeccc0ee8b97f2a1ab7e2d211f4563b9"><td class="memItemLeft" align="right" valign="top"><a id="adeccc0ee8b97f2a1ab7e2d211f4563b9" name="adeccc0ee8b97f2a1ab7e2d211f4563b9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>vk_resources_init</b> ()</td></tr>
<tr class="memdesc:adeccc0ee8b97f2a1ab7e2d211f4563b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes Vulkan resources for frame handling Sets up command pools, buffers and other Vulkan resources needed for frame processing. <br /></td></tr>
<tr class="separator:adeccc0ee8b97f2a1ab7e2d211f4563b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d9036190ab24e98947881b9598d486e" id="r_a4d9036190ab24e98947881b9598d486e"><td class="memItemLeft" align="right" valign="top"><a id="a4d9036190ab24e98947881b9598d486e" name="a4d9036190ab24e98947881b9598d486e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setup</b> (VkRenderPass render_pass, uint32_t subpass, std::shared_ptr&lt; vulkan::buffer_pool&lt; <a class="el" href="structILLIXR_1_1data__format_1_1fast__pose__type.html">data_format::fast_pose_type</a> &gt; &gt; buffer_pool) override</td></tr>
<tr class="memdesc:a4d9036190ab24e98947881b9598d486e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup function called by the display system Initializes resources and prepares for frame processing. <br /></td></tr>
<tr class="separator:a4d9036190ab24e98947881b9598d486e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addd5083f4e828fa781c6db2904fccc59" id="r_addd5083f4e828fa781c6db2904fccc59"><td class="memItemLeft" align="right" valign="top"><a id="addd5083f4e828fa781c6db2904fccc59" name="addd5083f4e828fa781c6db2904fccc59"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>record_command_buffer</b> (VkCommandBuffer commandBuffer, VkFramebuffer framebuffer, int buffer_ind, bool left) override</td></tr>
<tr class="separator:addd5083f4e828fa781c6db2904fccc59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a395953f5347af1cb1c9377c8a7723b2f" id="r_a395953f5347af1cb1c9377c8a7723b2f"><td class="memItemLeft" align="right" valign="top"><a id="a395953f5347af1cb1c9377c8a7723b2f" name="a395953f5347af1cb1c9377c8a7723b2f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>update_uniforms</b> (const <a class="el" href="structILLIXR_1_1data__format_1_1pose__type.html">data_format::pose_type</a> &amp;render_pose) override</td></tr>
<tr class="separator:a395953f5347af1cb1c9377c8a7723b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eb48f56e7d824fb7adfddd71b039faa" id="r_a1eb48f56e7d824fb7adfddd71b039faa"><td class="memItemLeft" align="right" valign="top"><a id="a1eb48f56e7d824fb7adfddd71b039faa" name="a1eb48f56e7d824fb7adfddd71b039faa"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_external</b> () override</td></tr>
<tr class="separator:a1eb48f56e7d824fb7adfddd71b039faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06fcf4c24f53d148cef8816b7d707862" id="r_a06fcf4c24f53d148cef8816b7d707862"><td class="memItemLeft" align="right" valign="top"><a id="a06fcf4c24f53d148cef8816b7d707862" name="a06fcf4c24f53d148cef8816b7d707862"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>destroy</b> () override</td></tr>
<tr class="separator:a06fcf4c24f53d148cef8816b7d707862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb3709984e65b0d2ddd8633c0a423c30" id="r_abb3709984e65b0d2ddd8633c0a423c30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILLIXR_1_1offload__rendering__client__jetson.html#abb3709984e65b0d2ddd8633c0a423c30">_p_thread_setup</a> () override</td></tr>
<tr class="memdesc:abb3709984e65b0d2ddd8633c0a423c30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets called at setup time, from the new thread.  <br /></td></tr>
<tr class="separator:abb3709984e65b0d2ddd8633c0a423c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74e907821fdbed05dc67f0ddfa5e33f7" id="r_a74e907821fdbed05dc67f0ddfa5e33f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILLIXR_1_1offload__rendering__client__jetson.html#a74e907821fdbed05dc67f0ddfa5e33f7">blitTo</a> (uint8_t ind, uint8_t eye, int fd, bool depth)</td></tr>
<tr class="memdesc:a74e907821fdbed05dc67f0ddfa5e33f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies decoded frame data to the display buffer.  <br /></td></tr>
<tr class="separator:a74e907821fdbed05dc67f0ddfa5e33f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26a8d02079d82dab4b9dc60ababecb1c" id="r_a26a8d02079d82dab4b9dc60ababecb1c"><td class="memItemLeft" align="right" valign="top"><a id="a26a8d02079d82dab4b9dc60ababecb1c" name="a26a8d02079d82dab4b9dc60ababecb1c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>queue_bytestream</b> ()</td></tr>
<tr class="memdesc:a26a8d02079d82dab4b9dc60ababecb1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queues a bytestream for decoding Handles the decoding of received video frames and synchronization with poses. <br /></td></tr>
<tr class="separator:a26a8d02079d82dab4b9dc60ababecb1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6836eef834dad62075b5ca2031d8c753" id="r_a6836eef834dad62075b5ca2031d8c753"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILLIXR_1_1offload__rendering__client__jetson.html#a6836eef834dad62075b5ca2031d8c753">_p_one_iteration</a> () override</td></tr>
<tr class="memdesc:a6836eef834dad62075b5ca2031d8c753"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main processing loop iteration Handles frame decoding, transfer and synchronization.  <br /></td></tr>
<tr class="separator:a6836eef834dad62075b5ca2031d8c753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e4625b84f6fdbd190d66e64add8cfbd" id="r_a5e4625b84f6fdbd190d66e64add8cfbd"><td class="memItemLeft" align="right" valign="top"><a id="a5e4625b84f6fdbd190d66e64add8cfbd" name="a5e4625b84f6fdbd190d66e64add8cfbd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>push_pose</b> ()</td></tr>
<tr class="memdesc:a5e4625b84f6fdbd190d66e64add8cfbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pushes the current pose to the server Handles pose synchronization with the rendering server. <br /></td></tr>
<tr class="separator:a5e4625b84f6fdbd190d66e64add8cfbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9657aa35228d43dd1f4866694a64a448" id="r_a9657aa35228d43dd1f4866694a64a448"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILLIXR_1_1offload__rendering__client__jetson.html#a9657aa35228d43dd1f4866694a64a448">network_receive</a> ()</td></tr>
<tr class="memdesc:a9657aa35228d43dd1f4866694a64a448"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives and processes network data.  <br /></td></tr>
<tr class="separator:a9657aa35228d43dd1f4866694a64a448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e3e9165dda3314e77f16b7a26e6f10" id="r_a08e3e9165dda3314e77f16b7a26e6f10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILLIXR_1_1offload__rendering__client__jetson.html#a08e3e9165dda3314e77f16b7a26e6f10">stop</a> () override</td></tr>
<tr class="memdesc:a08e3e9165dda3314e77f16b7a26e6f10"><td class="mdescLeft">&#160;</td><td class="mdescRight">A method which Spindle calls when it stops the component.  <br /></td></tr>
<tr class="separator:a08e3e9165dda3314e77f16b7a26e6f10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classILLIXR_1_1threadloop"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classILLIXR_1_1threadloop')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classILLIXR_1_1threadloop.html">ILLIXR::threadloop</a></td></tr>
<tr class="memitem:a8e69bfe104a92c0b98caa5583439c34a inherit pub_methods_classILLIXR_1_1threadloop" id="r_a8e69bfe104a92c0b98caa5583439c34a"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>threadloop</b> (const std::string &amp;name, <a class="el" href="classILLIXR_1_1phonebook.html">phonebook</a> *pb)</td></tr>
<tr class="separator:a8e69bfe104a92c0b98caa5583439c34a inherit pub_methods_classILLIXR_1_1threadloop"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af001e97f74595e18f589f66ac0595bfb inherit pub_methods_classILLIXR_1_1threadloop" id="r_af001e97f74595e18f589f66ac0595bfb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILLIXR_1_1threadloop.html#af001e97f74595e18f589f66ac0595bfb">start</a> () override</td></tr>
<tr class="memdesc:af001e97f74595e18f589f66ac0595bfb inherit pub_methods_classILLIXR_1_1threadloop"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the thread.  <br /></td></tr>
<tr class="separator:af001e97f74595e18f589f66ac0595bfb inherit pub_methods_classILLIXR_1_1threadloop"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a968606c7ddfbd1ac6b0fb067ecc5a5 inherit pub_methods_classILLIXR_1_1threadloop" id="r_a7a968606c7ddfbd1ac6b0fb067ecc5a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILLIXR_1_1threadloop.html#a7a968606c7ddfbd1ac6b0fb067ecc5a5">stop</a> () override</td></tr>
<tr class="memdesc:a7a968606c7ddfbd1ac6b0fb067ecc5a5 inherit pub_methods_classILLIXR_1_1threadloop"><td class="mdescLeft">&#160;</td><td class="mdescRight">Joins the thread.  <br /></td></tr>
<tr class="separator:a7a968606c7ddfbd1ac6b0fb067ecc5a5 inherit pub_methods_classILLIXR_1_1threadloop"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e12891e504c782da98e21328dbcf0af inherit pub_methods_classILLIXR_1_1threadloop" id="r_a3e12891e504c782da98e21328dbcf0af"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILLIXR_1_1threadloop.html#a3e12891e504c782da98e21328dbcf0af">internal_stop</a> ()</td></tr>
<tr class="memdesc:a3e12891e504c782da98e21328dbcf0af inherit pub_methods_classILLIXR_1_1threadloop"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the thread.  <br /></td></tr>
<tr class="separator:a3e12891e504c782da98e21328dbcf0af inherit pub_methods_classILLIXR_1_1threadloop"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classILLIXR_1_1plugin"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classILLIXR_1_1plugin')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classILLIXR_1_1plugin.html">ILLIXR::plugin</a></td></tr>
<tr class="memitem:abc91c0e5be180a8e0bbeaf114a127f17 inherit pub_methods_classILLIXR_1_1plugin" id="r_abc91c0e5be180a8e0bbeaf114a127f17"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>plugin</b> (std::string name, <a class="el" href="classILLIXR_1_1phonebook.html">phonebook</a> *pb)</td></tr>
<tr class="separator:abc91c0e5be180a8e0bbeaf114a127f17 inherit pub_methods_classILLIXR_1_1plugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebda022998bd35983e83f391dc0e5193 inherit pub_methods_classILLIXR_1_1plugin" id="r_aebda022998bd35983e83f391dc0e5193"><td class="memItemLeft" align="right" valign="top">
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>get_name</b> () const noexcept</td></tr>
<tr class="separator:aebda022998bd35983e83f391dc0e5193 inherit pub_methods_classILLIXR_1_1plugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a569297189ef365cf93f6a95202c76d76 inherit pub_methods_classILLIXR_1_1plugin" id="r_a569297189ef365cf93f6a95202c76d76"><td class="memItemLeft" align="right" valign="top">
auto&#160;</td><td class="memItemRight" valign="bottom"><b>spdlogger</b> (const char *log_level)</td></tr>
<tr class="separator:a569297189ef365cf93f6a95202c76d76 inherit pub_methods_classILLIXR_1_1plugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c1c7c1a0ec2e43bfa1118586a28932f inherit pub_methods_classILLIXR_1_1plugin" id="r_a7c1c7c1a0ec2e43bfa1118586a28932f"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><b>spd_add_file_sink</b> (const std::string &amp;file_name, const std::string &amp;extension, const std::string &amp;log_level)</td></tr>
<tr class="separator:a7c1c7c1a0ec2e43bfa1118586a28932f inherit pub_methods_classILLIXR_1_1plugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a575434c99bb36b15f12d8ae4efeca1a0" id="r_a575434c99bb36b15f12d8ae4efeca1a0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILLIXR_1_1offload__rendering__client__jetson.html#a575434c99bb36b15f12d8ae4efeca1a0">mmapi_import_dmabuf</a> (vulkan::vk_image &amp;eye)</td></tr>
<tr class="memdesc:a575434c99bb36b15f12d8ae4efeca1a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Imports a DMA buffer into the NVIDIA buffer system.  <br /></td></tr>
<tr class="separator:a575434c99bb36b15f12d8ae4efeca1a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60c0b6905882da2cfb482c7bffc20ce9" id="r_a60c0b6905882da2cfb482c7bffc20ce9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILLIXR_1_1offload__rendering__client__jetson.html#a60c0b6905882da2cfb482c7bffc20ce9">transition_layout</a> (VkCommandBuffer cmd_buf, VkImage image, VkImageLayout old_layout, VkImageLayout new_layout)</td></tr>
<tr class="memdesc:a60c0b6905882da2cfb482c7bffc20ce9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles image layout transitions in Vulkan.  <br /></td></tr>
<tr class="separator:a60c0b6905882da2cfb482c7bffc20ce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a58eb472c8153e2aa296a4111d7ec2d91" id="r_a58eb472c8153e2aa296a4111d7ec2d91"><td class="memItemLeft" align="right" valign="top"><a id="a58eb472c8153e2aa296a4111d7ec2d91" name="a58eb472c8153e2aa296a4111d7ec2d91"></a>
std::shared_ptr&lt; std::thread &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>decode_q_thread</b></td></tr>
<tr class="separator:a58eb472c8153e2aa296a4111d7ec2d91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_types_classILLIXR_1_1threadloop"><td colspan="2" onclick="javascript:toggleInherit('pro_types_classILLIXR_1_1threadloop')"><img src="closed.png" alt="-"/>&#160;Protected Types inherited from <a class="el" href="classILLIXR_1_1threadloop.html">ILLIXR::threadloop</a></td></tr>
<tr class="memitem:a26c08942158dc019cbc78c9880417652 inherit pro_types_classILLIXR_1_1threadloop" id="r_a26c08942158dc019cbc78c9880417652"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILLIXR_1_1threadloop.html#a26c08942158dc019cbc78c9880417652">skip_option</a> { <a class="el" href="classILLIXR_1_1threadloop.html#a26c08942158dc019cbc78c9880417652aa53108f7543b75adbb34afc035d4cdf6">run</a>
, <a class="el" href="classILLIXR_1_1threadloop.html#a26c08942158dc019cbc78c9880417652abe7430356a528e49af40fab3259b72b3">skip_and_spin</a>
, <a class="el" href="classILLIXR_1_1threadloop.html#a26c08942158dc019cbc78c9880417652a9e4878510e4ed1c00058d61753440dcf">skip_and_yield</a>
, <a class="el" href="classILLIXR_1_1threadloop.html#a26c08942158dc019cbc78c9880417652aef399b2d446bb37b7c32ad2cc1b6045b">stop</a>
 }</td></tr>
<tr class="separator:a26c08942158dc019cbc78c9880417652 inherit pro_types_classILLIXR_1_1threadloop"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classILLIXR_1_1threadloop"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classILLIXR_1_1threadloop')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classILLIXR_1_1threadloop.html">ILLIXR::threadloop</a></td></tr>
<tr class="memitem:a9ff83bb9e47beff3efccbd26bc3e874a inherit pro_methods_classILLIXR_1_1threadloop" id="r_a9ff83bb9e47beff3efccbd26bc3e874a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classILLIXR_1_1threadloop.html#a26c08942158dc019cbc78c9880417652">skip_option</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILLIXR_1_1threadloop.html#a9ff83bb9e47beff3efccbd26bc3e874a">_p_should_skip</a> ()</td></tr>
<tr class="memdesc:a9ff83bb9e47beff3efccbd26bc3e874a inherit pro_methods_classILLIXR_1_1threadloop"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets called in a tight loop, to gate the invocation of <code><a class="el" href="classILLIXR_1_1threadloop.html#a609dc44adc6c56cf304408c7ac5f15be" title="Override with the computation the thread does every loop.">_p_one_iteration()</a></code>  <br /></td></tr>
<tr class="separator:a9ff83bb9e47beff3efccbd26bc3e874a inherit pro_methods_classILLIXR_1_1threadloop"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75009fa785455bdb4b285424f0494bf7 inherit pro_methods_classILLIXR_1_1threadloop" id="r_a75009fa785455bdb4b285424f0494bf7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classILLIXR_1_1threadloop.html#a75009fa785455bdb4b285424f0494bf7">should_terminate</a> ()</td></tr>
<tr class="memdesc:a75009fa785455bdb4b285424f0494bf7 inherit pro_methods_classILLIXR_1_1threadloop"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the thread has been asked to terminate.  <br /></td></tr>
<tr class="separator:a75009fa785455bdb4b285424f0494bf7 inherit pro_methods_classILLIXR_1_1threadloop"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classILLIXR_1_1threadloop"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classILLIXR_1_1threadloop')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classILLIXR_1_1threadloop.html">ILLIXR::threadloop</a></td></tr>
<tr class="memitem:a54e0814711e7a582630d38d45ddbe3f3 inherit pro_attribs_classILLIXR_1_1threadloop" id="r_a54e0814711e7a582630d38d45ddbe3f3"><td class="memItemLeft" align="right" valign="top">
std::size_t&#160;</td><td class="memItemRight" valign="bottom"><b>iteration_no</b> = 0</td></tr>
<tr class="separator:a54e0814711e7a582630d38d45ddbe3f3 inherit pro_attribs_classILLIXR_1_1threadloop"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f6ce8b95d3d9aadf83e4e1414477cd0 inherit pro_attribs_classILLIXR_1_1threadloop" id="r_a8f6ce8b95d3d9aadf83e4e1414477cd0"><td class="memItemLeft" align="right" valign="top">
std::size_t&#160;</td><td class="memItemRight" valign="bottom"><b>skip_no</b> = 0</td></tr>
<tr class="separator:a8f6ce8b95d3d9aadf83e4e1414477cd0 inherit pro_attribs_classILLIXR_1_1threadloop"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classILLIXR_1_1plugin"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classILLIXR_1_1plugin')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classILLIXR_1_1plugin.html">ILLIXR::plugin</a></td></tr>
<tr class="memitem:aa963c518af83966173840a8558490888 inherit pro_attribs_classILLIXR_1_1plugin" id="r_aa963c518af83966173840a8558490888"><td class="memItemLeft" align="right" valign="top">
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>name_</b></td></tr>
<tr class="separator:aa963c518af83966173840a8558490888 inherit pro_attribs_classILLIXR_1_1plugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f7a2a9012350591c00d67a5bc0fd5a6 inherit pro_attribs_classILLIXR_1_1plugin" id="r_a6f7a2a9012350591c00d67a5bc0fd5a6"><td class="memItemLeft" align="right" valign="top">
const <a class="el" href="classILLIXR_1_1phonebook.html">phonebook</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>phonebook_</b></td></tr>
<tr class="separator:a6f7a2a9012350591c00d67a5bc0fd5a6 inherit pro_attribs_classILLIXR_1_1plugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef671d0cd9b6de45d3ade16dedbf4974 inherit pro_attribs_classILLIXR_1_1plugin" id="r_aef671d0cd9b6de45d3ade16dedbf4974"><td class="memItemLeft" align="right" valign="top">
const std::shared_ptr&lt; <a class="el" href="classILLIXR_1_1record__logger.html">record_logger</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>record_logger_</b></td></tr>
<tr class="separator:aef671d0cd9b6de45d3ade16dedbf4974 inherit pro_attribs_classILLIXR_1_1plugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe52734e7edc87bd0bf974caf112961b inherit pro_attribs_classILLIXR_1_1plugin" id="r_afe52734e7edc87bd0bf974caf112961b"><td class="memItemLeft" align="right" valign="top">
const std::shared_ptr&lt; <a class="el" href="classILLIXR_1_1gen__guid.html">gen_guid</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>gen_guid_</b></td></tr>
<tr class="separator:afe52734e7edc87bd0bf974caf112961b inherit pro_attribs_classILLIXR_1_1plugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaedb3f9178bdd11e53815e158454aaf3 inherit pro_attribs_classILLIXR_1_1plugin" id="r_aaedb3f9178bdd11e53815e158454aaf3"><td class="memItemLeft" align="right" valign="top">
const std::size_t&#160;</td><td class="memItemRight" valign="bottom"><b>id_</b></td></tr>
<tr class="separator:aaedb3f9178bdd11e53815e158454aaf3 inherit pro_attribs_classILLIXR_1_1plugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d40c2421cde09079372d12bfe7d45fe inherit pro_attribs_classILLIXR_1_1plugin" id="r_a8d40c2421cde09079372d12bfe7d45fe"><td class="memItemLeft" align="right" valign="top">
std::shared_ptr&lt; spdlog::logger &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>plugin_logger_</b></td></tr>
<tr class="separator:a8d40c2421cde09079372d12bfe7d45fe inherit pro_attribs_classILLIXR_1_1plugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main class implementing the offload rendering client functionality. </p>
<p>This class handles:</p><ul>
<li>Video decoding of received frames using hardware acceleration</li>
<li>Pose synchronization with the server</li>
<li>Integration with Vulkan display system</li>
<li>DMA-buf based zero-copy frame transfer </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aede46579056cf98e352017eeaa618aca" name="aede46579056cf98e352017eeaa618aca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aede46579056cf98e352017eeaa618aca">&#9670;&#160;</a></span>offload_rendering_client_jetson()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">offload_rendering_client_jetson::offload_rendering_client_jetson </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classILLIXR_1_1phonebook.html">phonebook</a> *&#160;</td>
          <td class="paramname"><em>pb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor initializing the client components. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Plugin name </td></tr>
    <tr><td class="paramname">pb</td><td>Phonebook for component lookup </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6836eef834dad62075b5ca2031d8c753" name="a6836eef834dad62075b5ca2031d8c753"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6836eef834dad62075b5ca2031d8c753">&#9670;&#160;</a></span>_p_one_iteration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void offload_rendering_client_jetson::_p_one_iteration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Main processing loop iteration Handles frame decoding, transfer and synchronization. </p>

<p>Implements <a class="el" href="classILLIXR_1_1threadloop.html#a609dc44adc6c56cf304408c7ac5f15be">ILLIXR::threadloop</a>.</p>

</div>
</div>
<a id="abb3709984e65b0d2ddd8633c0a423c30" name="abb3709984e65b0d2ddd8633c0a423c30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb3709984e65b0d2ddd8633c0a423c30">&#9670;&#160;</a></span>_p_thread_setup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void offload_rendering_client_jetson::_p_thread_setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets called at setup time, from the new thread. </p>

<p>Reimplemented from <a class="el" href="classILLIXR_1_1threadloop.html#a00a89b3f3e9caa870f4c70bbc2f8fe97">ILLIXR::threadloop</a>.</p>

</div>
</div>
<a id="a74e907821fdbed05dc67f0ddfa5e33f7" name="a74e907821fdbed05dc67f0ddfa5e33f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74e907821fdbed05dc67f0ddfa5e33f7">&#9670;&#160;</a></span>blitTo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void offload_rendering_client_jetson::blitTo </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>eye</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies decoded frame data to the display buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ind</td><td>Buffer index </td></tr>
    <tr><td class="paramname">eye</td><td>Eye index (0 for left, 1 for right) </td></tr>
    <tr><td class="paramname">fd</td><td>File descriptor of the source buffer </td></tr>
    <tr><td class="paramname">depth</td><td>Whether this is a depth buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a575434c99bb36b15f12d8ae4efeca1a0" name="a575434c99bb36b15f12d8ae4efeca1a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a575434c99bb36b15f12d8ae4efeca1a0">&#9670;&#160;</a></span>mmapi_import_dmabuf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void offload_rendering_client_jetson::mmapi_import_dmabuf </td>
          <td>(</td>
          <td class="paramtype">vulkan::vk_image &amp;&#160;</td>
          <td class="paramname"><em>eye</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Imports a DMA buffer into the NVIDIA buffer system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eye</td><td>The Vulkan image representing the eye buffer to import </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9657aa35228d43dd1f4866694a64a448" name="a9657aa35228d43dd1f4866694a64a448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9657aa35228d43dd1f4866694a64a448">&#9670;&#160;</a></span>network_receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool offload_rendering_client_jetson::network_receive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives and processes network data. </p>
<dl class="section return"><dt>Returns</dt><dd>true if frame was received successfully, false otherwise </dd></dl>

</div>
</div>
<a id="a08e3e9165dda3314e77f16b7a26e6f10" name="a08e3e9165dda3314e77f16b7a26e6f10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08e3e9165dda3314e77f16b7a26e6f10">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void offload_rendering_client_jetson::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A method which Spindle calls when it stops the component. </p>
<p>This is necessary because the parent class might define some actions that need to be taken prior to destructing the derived class. For example, threadloop must halt and join the thread before the derived class can be safely destructed. However, the derived class's destructor is called before its parent (threadloop), so threadloop doesn't get a chance to join the thread before the derived class is destroyed, and the thread accesses freed memory. Instead, we call plugin-&gt;stop manually before destroying anything.</p>
<p>Concrete plugins are responsible for initializing their specific logger and sinks. </p>

<p>Reimplemented from <a class="el" href="classILLIXR_1_1plugin.html#a2cefabfb6dd9800b1ebc8b07031661c4">ILLIXR::plugin</a>.</p>

</div>
</div>
<a id="a60c0b6905882da2cfb482c7bffc20ce9" name="a60c0b6905882da2cfb482c7bffc20ce9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60c0b6905882da2cfb482c7bffc20ce9">&#9670;&#160;</a></span>transition_layout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void offload_rendering_client_jetson::transition_layout </td>
          <td>(</td>
          <td class="paramtype">VkCommandBuffer&#160;</td>
          <td class="paramname"><em>cmd_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VkImage&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VkImageLayout&#160;</td>
          <td class="paramname"><em>old_layout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VkImageLayout&#160;</td>
          <td class="paramname"><em>new_layout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles image layout transitions in Vulkan. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd_buf</td><td>Command buffer to record the transition commands </td></tr>
    <tr><td class="paramname">image</td><td>The image to transition </td></tr>
    <tr><td class="paramname">old_layout</td><td>Original layout </td></tr>
    <tr><td class="paramname">new_layout</td><td>Target layout </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/friedel/devel/ILLIXR-clean/plugins/offload_rendering_client_jetson/<a class="el" href="offload__rendering__client__jetson_8hpp_source.html">offload_rendering_client_jetson.hpp</a></li>
<li>/home/friedel/devel/ILLIXR-clean/plugins/offload_rendering_client_jetson/<b>offload_rendering_client_jetson.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
